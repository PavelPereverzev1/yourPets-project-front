"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[363],{9363:function(n,e,i){i.r(e),i.d(e,{default:function(){return ce}});var r,t,a,o,s,d,l,c,p,h,x,u,f,m,g,v=i(9439),w=i(5861),j=i(4687),b=i.n(j),y=i(7262),Z=i(168),z=i(6487),k=z.zo.div(r||(r=(0,Z.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  padding: 16px 20px 40px 20px;\n  gap: 20px;\n  border-radius: 20px;\n  background: var(--white);\n  box-shadow: var(--boxShadowDefault);\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    width: 704px;\n    border-radius: 40px;\n    padding: 20px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 820px;\n    gap: 32px;\n  }\n"]))),C=z.zo.button(t||(t=(0,Z.Z)(["\n  position: absolute;\n  top: 271px;\n  right: 16px;\n  background: none;\n  border: none;\n  cursor: pointer;\n\n  @media screen and (min-width: 768px) {\n    top: 20px;\n    right: 20px;\n  }\n"]))),L=z.zo.svg(a||(a=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--blueLink);\n  transition: stroke var(--transition);\n\n  &:hover,\n  &:focus {\n    stroke: var(--yellow);\n  }\n"]))),S=z.zo.div(o||(o=(0,Z.Z)(["\n  flex-shrink: 0;\n  width: 240px;\n  height: 240px;\n  border-radius: 20px;\n  overflow: hidden;\n\n  @media screen and (min-width: 768px) {\n    width: 128px;\n    height: 128px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 162px;\n    height: 162px;\n    border-radius: 40px;\n  }\n"]))),$=z.zo.img(s||(s=(0,Z.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),_=z.zo.div(d||(d=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\n    gap: 16px;\n  }\n"]))),B=z.zo.p(l||(l=(0,Z.Z)(["\n  font-size: 14px;\n  letter-spacing: 0.56px;\n\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\n    line-height: 18px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    font-size: 16px;\n    line-height: 22px;\n    letter-spacing: 0.64px;\n  }\n"]))),E=z.zo.span(c||(c=(0,Z.Z)(["\n  font-weight: 700;\n\n  @media screen and (min-width: 768px) {\n    font-weight: 600;\n  }\n"]))),F=i(184),D=function(n){var e=n.pet,i=n.handleDelete,r=e.name,t=e.birthday,a=e.petType,o=e.comments,s=e.photoURL,d=e._id;return(0,F.jsxs)(k,{children:[(0,F.jsx)(C,{onClick:function(){return i(d)},children:(0,F.jsx)(L,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-trash-2")})})}),(0,F.jsx)(S,{children:(0,F.jsx)($,{src:s,alt:a,loading:"lazy"})}),(0,F.jsxs)(_,{children:[(0,F.jsxs)(B,{children:[(0,F.jsx)(E,{children:"Name: "}),r]}),(0,F.jsxs)(B,{children:[(0,F.jsx)(E,{children:"Date of birth: "}),t]}),(0,F.jsxs)(B,{children:[(0,F.jsx)(E,{children:"Type: "}),a]}),(0,F.jsxs)(B,{children:[(0,F.jsx)(E,{children:"Comments: "}),o]})]})]})},X=i(2791),q=i(5294),V=function(){var n=(0,w.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q.Z.get("/pets");case 3:return e=n.sent,n.abrupt("return",e.data);case 7:return n.prev=7,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",[]);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,w.Z)(b().mark((function n(e){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q.Z.delete("/pets/".concat(e));case 3:return i=n.sent,n.abrupt("return",i);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),I=z.zo.ul(p||(p=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),N=z.zo.li(h||(h=(0,Z.Z)([""]))),R=function(){var n=(0,X.useState)([]),e=(0,v.Z)(n,2),i=e[0],r=e[1],t=function(){var n=(0,w.Z)(b().mark((function n(){var e;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V();case 2:e=n.sent,r(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=(0,w.Z)(b().mark((function n(e){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(e);case 2:200===n.sent.status&&(t=i.filter((function(n){return n._id!==e})),r(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,X.useEffect)((function(){t()}),[]),(0,F.jsx)(I,{children:i.map((function(n){return(0,F.jsx)(N,{children:(0,F.jsx)(D,{pet:n,handleDelete:a})},n._id)}))})},U=z.zo.section(x||(x=(0,Z.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),A=z.zo.div(u||(u=(0,Z.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  padding-top: 130px;\n"]))),M=z.zo.div(f||(f=(0,Z.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),T=z.zo.h2(m||(m=(0,Z.Z)(["\n  font-size: 20px;\n  font-weight: 500;\n\n  @media screen and (min-width: 768px) {\n    font-size: 28px;\n  }\n"]))),Y=z.zo.svg(g||(g=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--white);\n"]))),H=i(1413),W=i(4432);function O(n){switch(n.$variant){case"filled":return(0,F.jsx)(W.IH,(0,H.Z)((0,H.Z)({},n),{},{children:n.children}));case"round":return(0,F.jsx)(W.h$,(0,H.Z)((0,H.Z)({},n),{},{children:n.children}));default:return(0,F.jsx)(W.zx,(0,H.Z)((0,H.Z)({},n),{},{children:n.children}))}}var G=i(7689);function J(){var n=(0,X.useState)({width:window.innerWidth,height:window.innerHeight}),e=(0,v.Z)(n,2),i=e[0],r=e[1];return(0,X.useEffect)((function(){var n=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),[i.width,i.height]}var K,Q,nn,en,rn,tn,an,on,sn,dn,ln,cn,pn,hn,xn,un,fn,mn,gn,vn,wn,jn,bn,yn,Zn,zn,kn,Cn=function(){var n=J(),e=(0,v.Z)(n,1)[0],i=(0,G.s0)(),r=function(){return i("/add-pet")};return(0,F.jsxs)(U,{children:[e<768&&(0,F.jsx)(A,{children:(0,F.jsxs)(O,{$variant:"round",onClick:r,children:[(0,F.jsx)(Y,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-plus")})}),"Add Pet"]})}),(0,F.jsxs)(M,{children:[(0,F.jsx)(T,{children:"My pets:"}),e>=768&&(0,F.jsxs)(O,{$variant:"filled",width:"129px",onClick:r,children:[(0,F.jsx)(Y,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-plus-small")})}),"Add Pet"]})]}),(0,F.jsx)(R,{})]})},Ln=i(9434),Sn=i(7102),$n=z.zo.button(K||(K=(0,Z.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-weight: 500;\n  letter-spacing: 0.64px;\n  height: 31px;\n  color: var(--gray);\n  background: none;\n  border: none;\n  margin-right: auto;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    svg {\n      stroke: var(--yellow);\n    }\n  }\n"]))),_n=z.zo.svg(Q||(Q=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--blueLink);\n  transition: stroke var(--transition);\n"]))),Bn=i(5719),En=function(){var n=(0,X.useState)(!1),e=(0,v.Z)(n,2),i=e[0],r=e[1],t=(0,Ln.I0)();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)($n,{onClick:function(){return r(!0)},children:[(0,F.jsx)(_n,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-logout")})}),"Log out"]}),(0,F.jsx)(Bn.Z,{active:i,setActive:r,yes:function(){t((0,Sn.ni)())}})]})},Fn=z.zo.p(nn||(nn=(0,Z.Z)(["\n  /* position: absolute; */\n  /* bottom: -12px; */\n  /* left: 80px; */\n  font-size: 10px;\n  line-height: normal;\n  letter-spacing: 0.48px;\n  padding: 2px 0 0 8px;\n  color: #f43f5da6;\n\n  @media screen and (min-width: 768px) {\n    bottom: -11px;\n    left: 110px;\n  }\n"]))),Dn=function(n){var e=n.touched,i=n.error;return e&&i?(0,F.jsx)(Fn,{children:i}):null},Xn=z.zo.form(en||(en=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media screen and (min-width: 768px) {\n    width: 355px;\n    align-items: end;\n  }\n"]))),qn=z.zo.div(rn||(rn=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n  padding: 22px 0 21px 0;\n\n  @media screen and (min-width: 768px) {\n    gap: 10px;\n    padding: 0 0 16px 0;\n  }\n\n  @media screen and (min-width: 768px) {\n    padding: 24px 0 10px 0;\n  }\n"]))),Vn=z.zo.div(tn||(tn=(0,Z.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Pn=z.zo.div(an||(an=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),In=z.zo.label(on||(on=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: normal;\n  letter-spacing: 0.56px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 18px;\n    letter-spacing: 0.72px;\n  }\n"]))),Nn=z.zo.input(sn||(sn=(0,Z.Z)(["\n  display: flex;\n  width: 190px;\n  padding: 4px 12px;\n  align-items: center;\n  border-radius: 20px;\n  border: 1px solid ",";\n  font-size: 12px;\n  line-height: normal;\n  letter-spacing: 0.48px;\n\n  @media screen and (min-width: 768px) {\n    width: 255px;\n    font-size: 16px;\n    letter-spacing: 0.64px;\n  }\n"])),(function(n){return n.$isValid?"var(--blueLink)":"red"})),Rn=i(3443),Un=function(n){var e=n.isEditFormInactive,i=n.formik,r=J(),t=(0,v.Z)(r,1)[0],a=(0,Ln.v9)(Rn.xU);return(0,F.jsxs)(Xn,{onSubmit:i.handleSubmit,children:[(0,F.jsxs)(qn,{children:[(0,F.jsxs)(Vn,{children:[(0,F.jsx)(In,{htmlFor:"name",children:"Name:"}),(0,F.jsxs)(Pn,{children:[(0,F.jsx)(Nn,{type:"text",id:"name",name:"name",onChange:i.handleChange,value:i.values.name,disabled:e,onBlur:i.handleBlur,$isValid:!i.errors.name}),(0,F.jsx)(Dn,{touched:i.touched.name,error:i.errors.name})]})]}),(0,F.jsxs)(Vn,{children:[(0,F.jsx)(In,{htmlFor:"email",children:"Email:"}),(0,F.jsxs)(Pn,{children:[(0,F.jsx)(Nn,{type:"email",id:"email",name:"email",onChange:i.handleChange,value:i.values.email,disabled:e,onBlur:i.handleBlur,$isValid:!i.errors.email}),(0,F.jsx)(Dn,{touched:i.touched.email,error:i.errors.email})]})]}),(0,F.jsxs)(Vn,{children:[(0,F.jsx)(In,{htmlFor:"birthday",children:"Birthday:"}),(0,F.jsxs)(Pn,{children:[(0,F.jsx)(Nn,{type:"date",id:"birthday",name:"birthday",onChange:i.handleChange,value:i.values.birthday,disabled:e,onBlur:i.handleBlur,$isValid:!i.errors.birthday}),(0,F.jsx)(Dn,{touched:i.touched.birthday,error:i.errors.birthday})]})]}),(0,F.jsxs)(Vn,{children:[(0,F.jsx)(In,{htmlFor:"phone",children:"Phone:"}),(0,F.jsxs)(Pn,{children:[(0,F.jsx)(Nn,{type:"tel",id:"phone",name:"phone",onChange:i.handleChange,value:i.values.phone,disabled:e,onBlur:i.handleBlur,$isValid:!i.errors.phone}),(0,F.jsx)(Dn,{touched:i.touched.phone,error:i.errors.phone})]})]}),(0,F.jsxs)(Vn,{children:[(0,F.jsx)(In,{htmlFor:"city",children:"City:"}),(0,F.jsxs)(Pn,{children:[(0,F.jsx)(Nn,{type:"text",id:"city",name:"city",onChange:i.handleChange,value:i.values.city,disabled:e,onBlur:i.handleBlur,$isValid:!i.errors.city}),(0,F.jsx)(Dn,{touched:i.touched.city,error:i.errors.city})]})]})]}),e?(0,F.jsx)(En,{}):(0,F.jsx)(O,{type:"submit",height:"31px",width:t>=768?"255px":"248px",disabled:!i.isValid,$variant:"filled",children:a?(0,F.jsx)("span",{children:"Loading..."}):(0,F.jsx)("span",{children:"Save"})})]})},An=z.zo.section(dn||(dn=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n\n  @media screen and (min-width: 768px) {\n    gap: 24px;\n  }\n"]))),Mn=z.zo.h2(ln||(ln=(0,Z.Z)(["\n  font-size: 20px;\n  font-weight: 500;\n  line-height: normal;\n\n  @media screen and (min-width: 768px) {\n    font-size: 28px;\n  }\n"]))),Tn=z.zo.div(cn||(cn=(0,Z.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 100%;\n  padding: 20px 8px 25px 8px;\n  border-radius: 20px;\n  background: var(--white);\n  box-shadow: var(--boxShadowDefault);\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n    gap: 71px;\n    padding: 20px 20px 16px 20px;\n    min-height: 270px;\n    border-radius: 40px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    flex-direction: column;\n    justify-content: flex-start;\n    gap: 0;\n    width: 395px;\n  }\n"]))),Yn=z.zo.button(pn||(pn=(0,Z.Z)(["\n  position: absolute;\n  top: 14px;\n  right: 14px;\n  background: none;\n  border: none;\n  cursor: pointer;\n\n  @media screen and (min-width: 768px) {\n    top: 18px;\n    right: 18px;\n  }\n"]))),Hn=z.zo.svg(hn||(hn=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  fill: var(--blueLink);\n  transition: fill var(--transition);\n\n  &:hover,\n  &:focus {\n    fill: var(--yellow);\n  }\n"]))),Wn=z.zo.svg(xn||(xn=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--blueLink);\n  transition: stroke var(--transition);\n\n  &:hover,\n  &:focus {\n    stroke: var(--yellow);\n  }\n"]))),On=z.zo.div(un||(un=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 14px;\n  height: 224px;\n"]))),Gn=z.zo.div(fn||(fn=(0,Z.Z)(["\n  width: 182px;\n  height: 182px;\n  border-radius: 40px;\n  overflow: hidden;\n"]))),Jn=z.zo.img(mn||(mn=(0,Z.Z)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),Kn=z.zo.label(gn||(gn=(0,Z.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 12px;\n  line-height: 22px;\n  letter-spacing: 0.48px;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    svg {\n      stroke: var(--yellow);\n    }\n  }\n"]))),Qn=z.zo.input(vn||(vn=(0,Z.Z)(["\n  display: none;\n"]))),ne=z.zo.svg(wn||(wn=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--blueLink);\n  transition: stroke var(--transition);\n"]))),ee=z.zo.div(jn||(jn=(0,Z.Z)(["\n  display: flex;\n  gap: 8px;\n"]))),ie=z.zo.button(bn||(bn=(0,Z.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 12px;\n  line-height: 22px;\n  letter-spacing: 0.48px;\n  background: none;\n  border: none;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    svg {\n      stroke: var(--yellow);\n    }\n  }\n"]))),re=(z.zo.svg(yn||(yn=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--blueLink);\n  transition: stroke var(--transition);\n"]))),z.zo.button(Zn||(Zn=(0,Z.Z)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n"])))),te=z.zo.svg(zn||(zn=(0,Z.Z)(["\n  width: 24px;\n  height: 24px;\n  stroke: var(--red);\n"]))),ae=i(5705),oe=i(6727),se=oe.Ry({name:oe.Z_().required("Please enter your name.").min(2,"Name too short.").max(16,"Name too long."),email:oe.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format.").required("Email is required"),birthday:oe.Z_().matches(/^\d{4}-\d{2}-\d{2}$/,"Please use YYYY-MM-DD format.").required(),phone:oe.Z_().matches(/^\+380\d{9}$/,"Please use +380XXXXXXXXX format.").required(),city:oe.Z_().required()}),de=function(){var n=(0,X.useState)(!0),e=(0,v.Z)(n,2),i=e[0],r=e[1],t=(0,X.useState)(null),a=(0,v.Z)(t,2),o=a[0],s=a[1],d=(0,X.useState)(!1),l=(0,v.Z)(d,2),c=l[0],p=l[1],h=(0,Ln.v9)(Rn.dy),x=(0,Ln.v9)(Rn.pd),u=(0,Ln.I0)(),f=(0,X.useRef)();(0,X.useEffect)((function(){x||u((0,Sn.Ec)())}),[u,x]);var m=function(){var n=(0,w.Z)(b().mark((function n(e){var i,t,a,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t in i=new FormData,e)i.append(t,e[t]);return f.current.files[0]&&(a=f.current.files[0],i.append("avatar",a),console.log(i),f.current.value=null),n.next=5,u((0,Sn.Nq)(i));case 5:if(o=n.sent,!Sn.Nq.fulfilled.match(o)){n.next=9;break}return r(!0),n.abrupt("return");case 9:alert("database error, please try again later");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=(0,ae.TA)({initialValues:{name:h.name,email:h.email,birthday:h.birthday,phone:h.phone,city:h.city},validationSchema:se,onSubmit:m});return(0,F.jsxs)(An,{children:[(0,F.jsx)(Mn,{children:"My information:"}),(0,F.jsxs)(Tn,{children:[(0,F.jsx)(Yn,{onClick:function(){return r(!i)},children:i?(0,F.jsx)(Hn,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-edit-2")})}):(0,F.jsx)(Wn,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-cross-small")})})}),(0,F.jsxs)(On,{children:[(0,F.jsx)(Gn,{children:(0,F.jsx)(Jn,{src:null!==o&&void 0!==o?o:h.avatarURL,alt:"User avatar",loading:"lazy"})}),!i&&(0,F.jsxs)("form",{onSubmit:function(n){n.preventDefault(),p(!1)},children:[(0,F.jsx)(Qn,{id:"file-upload",type:"file",name:"avatar",accept:"image/*",onChange:function(n){var e=n.currentTarget.files[0];if(e){var i=URL.createObjectURL(e);s(i),p(!0)}},ref:f}),c?(0,F.jsxs)(ee,{children:[(0,F.jsxs)(ie,{type:"submit",children:[(0,F.jsx)(ne,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-check")})}),"Confirm"]}),(0,F.jsx)(re,{type:"button",onClick:function(){s(null),p(!1),f.current.value=null},children:(0,F.jsx)(te,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-cross-small")})})})]}):(0,F.jsxs)(Kn,{htmlFor:"file-upload",children:[(0,F.jsx)(ne,{children:(0,F.jsx)("use",{href:"".concat(y.Z,"#icon-camera")})}),"Edit Photo"]})]})]}),(0,F.jsx)(Un,{isEditFormInactive:i,formik:g})]})]})},le=z.zo.div(kn||(kn=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 46px;\n  padding-top: 32px;\n\n  @media screen and (min-width: 768px) {\n    gap: 40px;\n    padding-top: 60px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    flex-direction: row;\n    gap: 32px;\n  }\n"]))),ce=function(){return(0,F.jsxs)(le,{children:[(0,F.jsx)(de,{}),(0,F.jsx)(Cn,{})]})}}}]);
//# sourceMappingURL=363.a377fa65.chunk.js.map
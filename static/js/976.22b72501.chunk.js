"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[976],{8976:function(e,n,r){r.r(n),r.d(n,{default:function(){return ve}});var t,i,a,l,o,s,d,c,u,h,m,p,x,f,v,y,b,g,j,Z,w,z,k=r(5861),C=r(9439),S=r(4687),B=r.n(S),F=r(2791),X=r(168),_=r(6487),E=_.zo.div(t||(t=(0,X.Z)(["\n  position: relative;\n  display: flex;\n  width: 51.3125rem;\n  padding: 1.25rem;\n  gap: 2rem;\n\n  border-radius: 2.5rem;\n  background: var(--white);\n\n  /* Shadow default */\n  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.19);\n"]))),N=_.zo.img(i||(i=(0,X.Z)(["\n  width: 10.0625rem;\n  height: 10.0625rem;\n  border-radius: 2.5rem;\n"]))),P=_.zo.div(a||(a=(0,X.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n"]))),q=_.zo.p(l||(l=(0,X.Z)(["\n  font-size: 1rem;\n  line-height: 1.375rem;\n  letter-spacing: 0.04rem;\n"]))),D=_.zo.span(o||(o=(0,X.Z)(["\n  font-weight: 600;\n  line-height: normal;\n"]))),L=r(184),R=function(e){var n=e.pet,r=n.image,t=n.type,i=n.name,a=n.datebirth,l=n.comments;return(0,L.jsxs)(E,{children:[(0,L.jsx)(N,{src:r,alt:t,width:"10.0625rem",height:"10.0625rem",loading:"lazy"}),(0,L.jsxs)(P,{children:[(0,L.jsxs)(q,{children:[(0,L.jsx)(D,{children:"Name: "}),i]}),(0,L.jsxs)(q,{children:[(0,L.jsx)(D,{children:"Date of birth: "}),a]}),(0,L.jsxs)(q,{children:[(0,L.jsx)(D,{children:"Type: "}),t]}),(0,L.jsxs)(q,{children:[(0,L.jsx)(D,{children:"Comments: "}),l]})]})]})},I=r(5294),M=function(){var e=(0,k.Z)(B().mark((function e(n){var r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.Z.get("".concat("https://64fde15b596493f7af7eb5ee.mockapi.io/").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),U=_.zo.ul(s||(s=(0,X.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),Y=_.zo.li(d||(d=(0,X.Z)([""]))),T=function(){var e=(0,F.useState)([]),n=(0,C.Z)(e,2),r=n[0],t=n[1],i=function(){var e=(0,k.Z)(B().mark((function e(){var n;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/myPets");case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,F.useEffect)((function(){i()}),[]),(0,L.jsx)(U,{children:r.map((function(e){return(0,L.jsx)(Y,{children:(0,L.jsx)(R,{pet:e})},e.id)}))})},$=_.zo.section(c||(c=(0,X.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),J=_.zo.h2(u||(u=(0,X.Z)(["\n  font-size: 1.75rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n"]))),V=function(){return(0,L.jsxs)($,{children:[(0,L.jsx)(J,{children:"My pets:"}),(0,L.jsx)(T,{})]})},A=_.zo.form(h||(h=(0,X.Z)([""]))),O=_.zo.label(m||(m=(0,X.Z)(["\n  font-size: 18px;\n  font-weight: 600;\n  line-height: normal;\n  letter-spacing: 0.72px;\n"]))),G=_.zo.input(p||(p=(0,X.Z)(["\n  display: flex;\n  width: 255px;\n  padding: 4px 12px;\n  align-items: center;\n  gap: 191px;\n  border-radius: 20px;\n  border: 1px solid var(--blueLink);\n\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: 0.64px;\n"]))),H=_.zo.button(x||(x=(0,X.Z)([""]))),K=function(e){var n=e.isEditFormInactive,r=e.formik;return(0,L.jsxs)(A,{onSubmit:r.handleSubmit,children:[(0,L.jsx)(O,{htmlFor:"name",children:"Name"}),(0,L.jsx)(G,{type:"text",id:"name",name:"name",onChange:r.handleChange,value:r.values.name,disabled:n,onBlur:r.handleBlur}),r.touched.name&&r.errors.name?(0,L.jsx)("div",{children:r.errors.name}):null,(0,L.jsx)(O,{htmlFor:"email",children:"Email"}),(0,L.jsx)(G,{type:"email",id:"email",name:"email",onChange:r.handleChange,value:r.values.email,disabled:n,onBlur:r.handleBlur}),r.touched.email&&r.errors.email?(0,L.jsx)("div",{children:r.errors.email}):null,(0,L.jsx)(O,{htmlFor:"birthday",children:"Birthday"}),(0,L.jsx)(G,{type:"date",id:"birthday",name:"birthday",onChange:r.handleChange,value:r.values.birthday,disabled:n,onBlur:r.handleBlur}),r.touched.birthday&&r.errors.birthday?(0,L.jsx)("div",{children:r.errors.birthday}):null,(0,L.jsx)(O,{htmlFor:"phone",children:"Phone"}),(0,L.jsx)(G,{type:"tel",id:"phone",name:"phone",onChange:r.handleChange,value:r.values.phone,disabled:n,onBlur:r.handleBlur}),r.touched.phone&&r.errors.phone?(0,L.jsx)("div",{children:r.errors.phone}):null,(0,L.jsx)(O,{htmlFor:"city",children:"City"}),(0,L.jsx)(G,{type:"text",id:"city",name:"city",onChange:r.handleChange,value:r.values.city,disabled:n,onBlur:r.handleBlur}),r.touched.city&&r.errors.city?(0,L.jsx)("div",{children:r.errors.city}):null,!n&&(0,L.jsx)(H,{type:"submit",children:"Save"})]})},Q=_.zo.section(f||(f=(0,X.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),W=_.zo.h2(v||(v=(0,X.Z)(["\n  font-size: 1.75rem;\n  font-style: normal;\n  font-weight: 500;\n  line-height: normal;\n"]))),ee=_.zo.div(y||(y=(0,X.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 24.6875rem;\n  height: 32.5rem;\n\n  border-radius: 2.5rem;\n  background: var(--white);\n\n  /* Shadow default */\n  box-shadow: 3px 8px 14px 0px rgba(136, 198, 253, 0.19);\n"]))),ne=_.zo.button(b||(b=(0,X.Z)(["\n  position: absolute;\n  top: 1.13rem;\n  right: 1.13rem;\n  color: var(--blueLink);\n  cursor: pointer;\n"]))),re=_.zo.div(g||(g=(0,X.Z)([""]))),te=_.zo.img(j||(j=(0,X.Z)(["\n  width: 11.375rem;\n  height: 11.375rem;\n"]))),ie=_.zo.label(Z||(Z=(0,X.Z)(["\n  cursor: pointer;\n"]))),ae=_.zo.input(w||(w=(0,X.Z)(["\n  display: none;\n"]))),le=r(9129),oe=r(6053),se=r(5705),de=r(9434),ce=r(8965),ue=r(7102),he=r(1110),me=r(6727),pe=me.Ry({name:me.Z_().required("Please enter your name.").min(2,"Name too short.").max(16,"Name too long."),email:me.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email format.").required("Email is required"),birthday:me.Z_().matches(/^\d{4}-\d{2}-\d{2}$/,"Please use YYYY-MM-DD format."),phone:me.Z_().matches(/^\+380\d{9}$/,"Please use +380XXXXXXXXX format."),city:me.Z_()}),xe=function(){var e=(0,F.useState)(!0),n=(0,C.Z)(e,2),r=n[0],t=n[1],i=(0,F.useState)(null),a=(0,C.Z)(i,2),l=a[0],o=a[1],s=(0,F.useState)(!1),d=(0,C.Z)(s,2),c=d[0],u=d[1],h=(0,de.v9)(ce.dy),m=(0,de.I0)();(0,F.useEffect)((function(){ce.pd||m((0,ue.Ec)())}),[m]);var p=(0,F.useRef)(),x=(0,se.TA)({initialValues:{name:h.name,email:h.email,birthday:h.birthday,phone:h.phone,city:h.city},validationSchema:pe,onSubmit:function(){var e=(0,k.Z)(B().mark((function e(n){var r,i,a,l;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in r=new FormData,n)r.append(i,n[i]);return p.current.files[0]&&(a=p.current.files[0],r.append("avatar",a),p.current.value=null),e.next=5,m((0,ue.Nq)(r));case 5:if(l=e.sent,!ue.Nq.fulfilled.match(l)){e.next=9;break}return t(!0),e.abrupt("return");case 9:alert("database error, please try again later");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});return(0,L.jsxs)(Q,{children:[(0,L.jsx)(W,{children:"My information:"}),(0,L.jsxs)(ee,{children:[(0,L.jsx)(ne,{as:r?le.VJJ:oe.nfZ,onClick:function(){return t(!r)}}),(0,L.jsxs)(re,{children:[(0,L.jsx)(te,{src:null!==l&&void 0!==l?l:h.avatarURL,alt:"User avatar"}),!r&&(0,L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(!1)},children:[(0,L.jsx)(ae,{id:"file-upload",type:"file",name:"avatar",accept:"image/*",onChange:function(e){var n=e.currentTarget.files[0];if(n){var r=URL.createObjectURL(n);o(r),u(!0)}},ref:p}),c?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("button",{type:"submit",children:"Confirm"}),(0,L.jsx)("button",{type:"button",onClick:function(){o(null),u(!1),p.current.value=null},children:"X"})]}):(0,L.jsx)(ie,{htmlFor:"file-upload",children:"Edit Photo"})]})]}),(0,L.jsx)(K,{isEditFormInactive:r,formik:x}),(0,L.jsx)(he.Z,{})]})]})},fe=_.zo.div(z||(z=(0,X.Z)(["\n  display: flex;\n  gap: 2rem;\n"]))),ve=function(){return(0,L.jsxs)(fe,{children:[(0,L.jsx)(xe,{}),(0,L.jsx)(V,{})]})}}}]);
//# sourceMappingURL=976.22b72501.chunk.js.map